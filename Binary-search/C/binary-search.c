#include <stdio.h>

int bsearch (int *a, int n, int x) {
    int i = 0, j = n - 1;
    while (i <= j) {
        int k = (i + j) / 2;
        if (a[k] == x) {
            return k;
        }
        else if (a[k] < x) {
            i = k + 1;
        }
        else {
            j = k - 1;
        }
    }
    return -1;
}

int bsearch_r (int *a, int x, int i, int j) {
    if (j < i) {
        return -1;
    }
    int k = (i + j) / 2;
    if (a[k] == x) {
        return k;
    }
    else if (a[k] < x) {
        return bsearch_r(a, x, k + 1, j);
    }
    else {
        return bsearch_r(a, x, i, k - 1);
    }
}

int main () {
    int a[] = {1,2,2,8,10,10,10,10,10,13,14,15,17,22,22,25,28,29,29,29,30,32,33,33,34,35,35,37,37,41,41,42,42,43,44,45,46,46,47,48,51,52,54,56,57,57,59,61,63,64,65,66,66,66,67,70,70,72,74,80,80,83,90,92,92,94,94,94,96,97,99,101,102,102,105,110,113,113,113,115,116,118,118,121,126,128,129,130,132,132,135,136,136,137,137,138,139,139,139,140,141,144,144,147,147,147,151,153,153,155,156,156,159,160,160,161,162,164,169,169,172,172,172,172,174,174,176,176,177,177,181,182,182,188,188,189,190,191,192,192,193,194,195,195,195,197,198,198,199,200,201,203,203,204,206,206,207,207,207,209,210,216,219,220,220,222,222,223,223,228,229,229,231,233,233,233,234,240,240,240,241,244,248,249,250,250,252,253,253,253,253,254,255,255,256,256,258,261,262,263,263,265,265,267,268,269,271,272,275,275,276,278,280,284,285,285,286,288,290,291,292,293,295,297,298,298,300,301,301,302,302,302,303,304,304,304,304,306,306,306,307,308,308,314,314,314,323,323,324,324,324,325,326,329,329,333,334,335,335,336,338,339,339,340,342,349,351,351,352,352,354,356,357,361,362,362,363,363,364,364,365,365,365,371,373,376,379,379,379,379,381,382,382,383,386,387,387,389,391,393,393,394,395,397,399,400,403,404,406,407,408,408,410,410,410,413,414,415,418,420,421,421,423,424,425,426,426,427,428,431,432,434,434,436,437,441,441,442,442,442,445,448,449,453,453,454,457,458,459,462,463,465,465,467,469,469,470,470,474,475,476,476,477,479,481,483,484,485,487,487,488,488,489,491,491,491,492,492,493,493,493,494,494,495,496,498,499,499,499,500,501,503,507,510,510,511,511,511,512,513,513,513,513,514,515,516,517,517,518,518,518,520,523,523,525,526,527,528,528,531,532,533,534,537,538,538,539,539,539,541,541,541,542,542,543,546,546,546,547,551,552,552,553,553,554,558,560,564,564,565,566,567,567,568,568,569,569,569,570,572,573,573,573,575,576,578,579,579,579,581,582,582,583,583,585,586,588,591,591,592,594,596,598,599,599,600,600,601,602,603,603,604,605,607,609,610,612,612,613,615,616,616,617,618,619,620,620,622,625,627,628,628,629,630,630,630,632,632,632,633,635,635,635,636,636,637,637,640,640,640,640,641,642,642,643,646,650,651,652,653,654,656,656,656,657,659,660,660,661,664,664,668,669,670,671,676,677,680,681,682,683,685,688,689,690,690,690,691,692,694,695,695,696,696,701,702,703,705,705,705,706,706,712,712,713,713,714,714,716,717,719,720,721,721,722,723,724,724,724,725,725,726,726,728,728,730,731,731,732,733,734,736,736,739,740,742,747,748,749,750,752,753,753,755,758,759,759,760,762,764,766,767,769,771,771,773,776,776,777,778,778,781,781,786,787,787,789,789,791,791,791,793,793,794,798,798,799,799,800,801,802,802,802,803,805,806,808,809,809,810,811,811,813,813,813,813,814,814,818,818,818,824,825,825,827,829,829,829,829,830,832,833,834,835,836,836,837,839,839,840,840,840,841,842,844,844,847,847,848,849,849,851,855,855,856,856,858,858,859,862,862,863,864,865,866,867,867,868,871,871,875,875,877,877,880,880,881,881,882,884,884,885,885,886,886,886,886,886,887,888,891,891,895,895,895,896,897,897,897,897,897,899,899,900,903,904,905,905,907,909,911,911,912,912,913,915,920,921,927,927,930,931,931,933,933,934,935,935,937,940,943,944,944,944,947,947,947,947,948,949,953,955,956,957,959,960,961,964,964,967,967,971,972,974,974,974,975,975,975,979,982,983,984,985,985,986,986,988,988,989,990,991,993,996,998,1000,1001,1002,1002,1002,1003,1003,1007,1009,1010,1011,1011,1012,1014,1014,1015,1017,1018,1019,1019,1020,1020,1025,1026,1031,1033,1034,1036,1036,1037,1038,1038,1038,1038,1039,1039,1039,1040,1041,1041,1041,1044,1044,1044,1044,1044,1044,1045,1045,1046,1046,1048,1049,1055,1057,1058,1059,1059,1060,1061,1062,1063,1065,1066,1067,1069,1070,1072,1074,1075,1076,1078,1080,1082,1084,1084,1085,1085,1086,1087,1087,1088,1091,1093,1093,1095,1101,1102,1102,1104,1105,1105,1107,1109,1109,1109,1109,1114,1116,1116,1118,1120,1121,1124,1129,1129,1130,1131,1132,1132,1135,1137,1138,1138,1138,1139,1139,1141,1142,1143,1144,1144,1144,1145,1146,1147,1148,1148,1148,1149,1149,1150,1155,1156,1159,1162,1163,1163,1163,1163,1163,1164,1166,1168,1168,1169,1173,1175,1176,1177,1178,1181,1183,1183,1184,1186,1187,1188,1189,1190,1191,1192,1194,1197,1198};
    int n = sizeof a / sizeof a[0];
    int x = 769;
    int i = bsearch(a, n, x);
    printf("%d is at index %d\n", x, i);
    x = 5;
    i = bsearch_r(a, x, 0, n - 1);
    printf("%d is at index %d\n", x, i);
    return 0;
}
